{"version":3,"sources":["post_element.js"],"names":["window","PB","undefined","cb","newPostData","title","body","setPostData","domElement","contents","section","content","tag","push","PostElement","destination","element","document","createElement","setAttribute","appendChild","inputContainer","input","enter","textContent","className","remove","img","src","console","log","video","Post","post","$","ajax","url","method","data","JSON","stringify","done","location"],"mappings":"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","file":"post_element.js","sourcesContent":["if (window.PB === undefined) { window.PB = {}; }\n\n(() => {\n\n  var cb = []\n\n  var newPostData = { title: \"\", body: [] };\n\n  var setPostData = function (domElement, contents) {\n\n    if (domElement === \"h1\") {\n      newPostData.title = contents;\n    }\n    else {\n\n      var section = {\n        content: contents,\n        tag: domElement\n      }\n\n      newPostData.body.push(section);\n\n    }\n  }\n\n  class PostElement {\n\n      create(domElement, destination) {\n        var element = document.createElement(domElement);\n        element.setAttribute(\"contenteditable\", \"true\");\n        destination.appendChild(element)\n      }\n\n      addElement(element, content) {\n        setPostData(element, content);\n      }\n\n      addSourceInput(destination, tag) {\n        var inputContainer = document.createElement(\"div\");\n        var input = document.createElement(\"input\");\n        var enter = document.createElement(\"button\");\n        input.setAttribute(\"name\", \"source\");\n        input.setAttribute(\"placeholder\", \"Enter Media Source\");\n        enter.textContent = \"Enter\";\n        inputContainer.className = \"src-input\";\n        input.className = tag;\n\n        destination.appendChild(inputContainer);\n        inputContainer.appendChild(input);\n        inputContainer.appendChild(enter);\n      }\n\n      addImage(contents, destination, remove) {\n        var img = document.createElement(\"img\");\n        img.src = contents;\n        remove.remove();\n        destination.appendChild(img);\n        setPostData(\"img\", contents);\n      }\n\n      addVideo(contents, destination, remove) {\n        console.log(\"iframe\")\n        var video = document.createElement(\"iframe\");\n        video.src = contents;\n        remove.remove();\n        destination.appendChild(video);\n        setPostData(\"iframe\", contents);\n      }\n\n    }\n\n    class Post {\n\n      sendPostData() {\n        var post = newPostData\n\n        $.ajax({\n          url: \"/api/blog/new\",\n          method: \"POST\",\n          data: {\n            title: post.title,\n            body: JSON.stringify(post.body)\n          }\n        })\n        .done(function(data) {\n          window.location = \"/blog\"\n        });\n\n      }\n\n    }\n\n  PB.PostElement = PostElement;\n  PB.Post = Post;\n})()\n"]}