{"version":3,"sources":["blog/post_element.js"],"names":["window","PB","undefined","cb","newPostData","title","tag","body","setPostData","domElement","contents","section","content","push","PostElement","destination","element","document","createElement","setAttribute","appendChild","console","log","inputContainer","input","enter","textContent","className","remove","img","src","video","Post","post","$","ajax","url","method","data","JSON","stringify","done","location","id"],"mappings":"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","file":"post_element.js","sourcesContent":["if (window.PB === undefined) { window.PB = {}; }\n\n(() => {\n\n  var cb = []\n\n  var newPostData = { title: \"\", tag: \"\", body: [] };\n\n  var setPostData = function (domElement, contents) {\n\n    if (domElement === \"h1\") {\n      newPostData.title = contents;\n    }\n    else {\n\n      var section = {\n        content: contents,\n        tag: domElement\n      }\n\n      newPostData.body.push(section);\n\n    }\n  }\n\n  class PostElement {\n\n      create(domElement, destination) {\n        var element = document.createElement(domElement);\n        element.setAttribute(\"contenteditable\", \"true\");\n        destination.appendChild(element)\n      }\n\n      addElement(element, content) {\n        setPostData(element, content);\n      }\n\n      setTag(tag) {\n        newPostData.tag = tag;\n        console.log(newPostData);\n      }\n\n      addSourceInput(destination, tag) {\n        var inputContainer = document.createElement(\"div\");\n        var input = document.createElement(\"input\");\n        var enter = document.createElement(\"button\");\n        input.setAttribute(\"name\", \"source\");\n        input.setAttribute(\"placeholder\", \"Enter Media Source\");\n        enter.textContent = \"Enter\";\n        inputContainer.className = \"src-input\";\n        input.className = tag;\n\n        destination.appendChild(inputContainer);\n        inputContainer.appendChild(input);\n        inputContainer.appendChild(enter);\n      }\n\n      addImage(contents, destination, remove) {\n        var img = document.createElement(\"img\");\n        img.src = contents;\n        remove.remove();\n        destination.appendChild(img);\n        setPostData(\"img\", contents);\n      }\n\n      addVideo(contents, destination, remove) {\n        var video = document.createElement(\"iframe\");\n        video.src = contents;\n        remove.remove();\n        destination.appendChild(video);\n        setPostData(\"iframe\", contents);\n      }\n\n    }\n\n    class Post {\n\n      sendPostData() {\n        var post = newPostData\n\n        $.ajax({\n          url: \"/api/blog/new\",\n          method: \"POST\",\n          data: {\n            title: post.title,\n            tag: post.tag,\n            body: JSON.stringify(post.body)\n          }\n        })\n        .done(function(data) {\n          window.location = \"/blog-admin\"\n        });\n\n      }\n\n      removePost(id) {\n\n        $.ajax({\n          url: \"/api/\" + id,\n          method: \"DELETE\"\n        })\n        .done(function(data) {\n          \n        });\n\n      }\n\n    }\n\n  PB.PostElement = PostElement;\n  PB.Post = Post;\n})()\n"]}